# 3. В большой текстовой строке подсчитать количество встречаемых слов и вернуть 10 самых частых.
# Не учитывать знаки препинания и регистр символов.
# За основу возьмите любую статью из википедии или из документации к языку.
import string


# Оригинал статьи https://ru.wikipedia.org/wiki/%D0%92_%D0%BF%D0%BE%D0%B3%D0%BE%D0%BD%D0%B5_%D0%B7%D0%B0_%D0%91%D0%BE%D0%BD%D0%BD%D0%B8_%D0%B8_%D0%9A%D0%BB%D0%B0%D0%B9%D0%B4%D0%BE%D0%BC

text = 'Сюжет "В погоне за Бонни и Клайдом". В 1934 году, после двух лет бегства в качестве грабителей и убийц, преступники Бонни и Клайд помогли нескольким соратникам сбежать с фермы при тюрьме в Техасе. ' \
       'В ответ глава техасского Управления исправительных учреждений Ли Симмонс предлагает губернатору Ма Фергюсон нанять бывшего техасского рейнджера Фрэнка Хеймера, ' \
       'чтобы выследить преступников, независимо от Федерального бюро расследований (ФБР). Фергюсон и её сотрудники, расформировавшие рейнджеров для более продвинутых ' \
       'подразделений, настроены скептически, но всё-таки дают добро Симмонсу. Хеймер поначалу колеблется из-за своей семьи, но и он, и семья соглашаются, ' \
       'услышав о страшной перестрелке в Миссури с участием печально известной пары. Бывший напарник Хеймера, Мэни Голт, долгое время остававшийся без работы и живущий в тяжёлых условиях, ' \
       'присоединяется к нему. ФБР какое-то время прослушивало семьи беглецов. Хеймер и Голт получают доступ к этой информации и приходят к выводу, что бандиты, скорее всего, доберутся до Далласа. ' \
       'Там они видят мужчину, бросающего через забор бутылку во двор матери Бонни, а затем мальчика, который её подбирает. Они преследуют его, но мальчик убегает. Прибывают агенты ФБР, сообщая им, ' \
       'что Клайд предположительно находится в Браунсвилле (Техас), и призывая рейнджеров держаться подальше от операции. ' \
       'Рейнджеры встречаются с шерифом Далласа Смутом Шмидом, который представляет их заместителю шерифа Теду Хинтону, другу детства Бонни и Клайда, и который может опознать их на месте, ' \
       'но Хеймер и Голт обеспокоены предыдущими колебаниями Хинтона стрелять по паре. На следующий день они слышат о двойном убийстве полицейских, совершённом Бонни и Клайдом, ' \
       'недалеко от Грейпвайн (Техас). Исследуя место преступления, Хеймер потрясён жестокостью пары и подчёркивает это Хинтону. Они также обнаруживают, что у Бонни с собой белый кролик, ' \
       'Хинтон говорит им, что это, скорее всего, подарок для члена семьи. Оставив Хинтона, они переезжают в Оклахому. От сотрудника заправочной станции, сочувствующего преступникам, ' \
       'они узнают, что разыскиваемые направляются в лагерь мигрантов. Оказавшись там, они узнают от местной девушки, что банда была там, и изучают лагерь преступников. ' \
       'Продолжая преследование, рейнджеры слышат по радио о двух других убитых полицейских. Они добираются до места преступления, но поскольку оно находится вне их полномочий, ' \
       'ФБР и местная полиция запрещают им осмотреть его. Разочарованные рейнджеры едут в Коффивилл (Канзас), полагая, что банда остановится там для того, чтобы пополнить запасы. ' \
       'Там они находят Бонни и Клайда и следят за ними, но им мешает толпа, подбадривающая преступников. ' \
       'Догоняя пару за городом, они обмениваются выстрелами, но бандитам удаётся сбежать от рейнджеров. Пытаясь найти след на следующий день, ' \
       'Хеймер узнаёт, что Клайд позавтракал в Амарилло (Техас) и вернулся в Даллас, чтобы узнать, что белый кролик был доставлен семье Бонни. ' \
       'Хеймер навещает Генри Барроу, отца Клайда, который со слезами на глазах просит его «покончить с этим» для его семьи, зная, что его сына никогда не возьмут живым. ' \
       'Хеймер следует плану Голта, по которому Симмонс освобождает заключённого Уэйда МакНабба, связанного с бандой, в надежде выманить их. Пока Хеймер допрашивает ' \
       'МакНабба в баре, на Голта нападают трое преступников, помогающих банде, но он даёт им отпор. Услышав, что Бонни должна встретиться с парикмахером, на следующий день ' \
       'рейнджеры следят за домом Бонни, где они видят мужчину, бросающего бутылку во двор Бонни, и того же мальчика, который снова забирает её. В этот раз они догоняют его и находят ' \
       'в бутылке сообщение от банды, что они направляются в другое место. Придя в дом МакНабба для получения дополнительной информации, рейнджеры находят его жестоко избитого до смерти битой. ' \
       'Голт считает, что смерть МакНабба — его вина. Хеймер пытается отговорить его от этой мысли, что приводит к спору, но они примиряются и продолжают поиски. Анализируя движения своих ' \
       'противников и полагая, что «преступники всегда идут домой», Хеймер и Голт предсказывают, что они направляются в Луизиану, в дом отца Генри Метвина Айви, который живёт в приходе Бенвиль.' \
       ' Они идут к дому и находят доказательства того, что там были преступники. Рейнджеры объединяются с местными шерифами, поняв, что они не коррумпированы. ' \
       'Айви говорит им, в обмен на безопасность сына, что банда приедет в ближайшее время, и что есть только один путь к его дому и обратно. ' \
       'Затем к отряду присоединяется Тед Хинтон и заместитель шерифа Далласа Боб Элкорн. Той ночью Голт рассказывает полицейским о своём первом деле с Хеймером. ' \
       'Позже приходит Айви и говорит им, что банда приедет на следующий день. Устанавливая засаду, Хеймер приказывает Айви присоединиться к ним и делать вид, что его машина сломалась, ' \
       'чтобы остановить банду в точке засады. Когда прибывают Бонни и Клайд, они останавливаются, чтобы помочь Айви, как и планировалось. Хеймер, а затем Голт выходят и приказывают им ' \
       'поднять руки. Когда они не подчиняются и пытаются схватить оружие, отряд расстреливает их. Изрешечённый пулями автомобиль отбуксирован вместе с изуродованными телами Бонни и Клайда ' \
       'в Аркейдию (Луизиана), где его окружает толпа истеричных зевак. Отказавшись от предложения прессы дать интервью по телефону за 1 000 долларов, Хеймер и Голт спокойно едут домой. '


def remove_punctuation_and_lower_case(text):
    """
    Функция для удаления знаков препинания и уменьшения регистра
    """
    punctuation_chars = set(string.punctuation)
    result = []
    for char in text:
        if char not in punctuation_chars:
            result.append(char.lower())
    return ''.join(result)

def get_most_common_words(text, n=10):
    """
    Функция для посчета количества различных слов в тексте
    """
    # Убираем знаки препинания и переводим все символы в нижний регистр
    text = remove_punctuation_and_lower_case(text)

    words = text.split()

    word_counts = {} # ключ это слово а значение - количество раз которое слово встречается в тексте

    for word in words:
        if word not in word_counts:
            word_counts[word] = 0
        word_counts[word] += 1

    # Сортируем слова по количеству вхождений
    sorted_words = sorted(word_counts.items(), key=lambda x: x[1], reverse=True)

    return sorted_words[:n]

most_common = get_most_common_words(text)
print(most_common)
